{% extends 'base.html' %}
{% load i18n horizon humanize sizeformat %}
{% block title %}{% trans "Storage" %}{% endblock %}
{% block page_header %}
  <div class='page-header' style="height:50px">
    <h1 style="float:left">Storage</h1>
    {% if selected_pod_manager %}
        <h3 style="margin-top:9px">&nbsp (Active POD: <a href='../pod_managers'><font color = >{{ selected_pod_manager }}</font></a>)</h3>
        <!--<h1 style="float:right">POD <font color = red>{{ selected_pod_manager }}</font> Selected</h1>-->
    {% else %}
        <h3 style="margin-top:9px">--NO POD Selected</h3>
        <!--<h1 style="float:right">NO POD Selected</h1>-->
    {% endif %}

    {% if actions %}
      <form class='actions_column pull-right' action='{{ url }}' method="POST">
        {% csrf_token%}
        {{ actions }}
      </form>
    {% endif %}
  </div>
{% endblock %}
{% block main %}
<div class="row">
    <div class="col-sm-12">
        <table id="virtualdisk_info" class="table table-hover" >
            <thead>
            <tr>
                <th colspan='5'>{{ storage_table_name }}</th>
                <!--<th>Email</th>-->
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="multi_select_column"><input id="table-select-all" name="" type="checkbox" value=""></td>
                <td style='font-weight:bold'>Name</td>
                <td style='font-weight:bold' id="image">Status</td>
                <td style='font-weight:bold' id="image">IP</td>
                <td style='font-weight:bold' id="image">Port</td>
            </tr>
            {% for s in storage_list %}
            <tr>
                <td class="multi_select_column"><input class="table-select-one" name="" type="checkbox" value=""></td>
                <td>{{ s.name }}</td>
                <td id='targets'>
                {% if s.Health == 'OK' %}
                <div class="fa fa-square" style="margin: 0 auto; color: #5CB85C; font-size:17px;"></div> OK
                {% endif %}
                </td>
                <td>{{ s.address }}</td>
                <td>{{ s.port }}</td>
            </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>

    <h2 style="margin-left:15px">{% trans "Virtual Disks" %}</h2>
    <div class="col-sm-12">
        <!--{{ tab_group.render }}-->
        {{ table.render }}
    </div>
    <div class="col-sm-12">
        <table id="virtualdisk_info" class="table table-hover" style="display: none">
            <thead>
            <tr>
                <th>Virtual Disk Info</th>
                <!--<th>Email</th>-->
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Image:</td>
                <td id="image"></td>
            </tr>
            <tr>
                <td>Targets:</td>
                <td id='targets'></td>
            </tr>
            <tr>
                <td>SnapShot:</td>
                <td id='snapshot'></td>
            </tr>
            <tr>
                <td>Physical Driver:</td>
                <td id='physical_driver'></td>
            </tr>
            <tr>
                <td>Master Driver:</td>
                <td id='master_driver'></td>
            </tr>
            <tr>
                <td>Events:</td>
                <td id='events'></td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
{% endblock %}

{% block footer %}
<script src='{{ STATIC_URL }}dashboard/admin/virtual_disks/index.js' type='text/javascript' charset='utf-8'></script>
<link href='{{ STATIC_URL }}dashboard/admin/virtual_disks/index.css' type='text/css' rel='stylesheet' />
<!--
-->
{% endblock %}

